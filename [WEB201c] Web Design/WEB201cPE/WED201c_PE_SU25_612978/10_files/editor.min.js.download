var DBTech=window.DBTech||{};DBTech.Credits=window.DBTech.Credits||{};
((d,c)=>{DBTech.Credits.EditorDialogCharge=XF.extend(XF.EditorDialog,{_beforeShow:function(a){c.querySelector("#editor_dbtech_credits_charge_title").value=""},_init:function(a){XF.on(c.querySelector("#editor_dbtech_credits_charge_form"),"submit",this.submit.bind(this))},submit:function(a){a.preventDefault();a=this.ed;const b=this.overlay;a.selection.restore();DBTech.Credits.EditorHelpers.insertCharge(a,c.querySelector("#editor_dbtech_credits_charge_title").value);b.hide()}});DBTech.Credits.editorStart=
{startAll(){DBTech.Credits.editorStart.registerCommands();DBTech.Credits.editorStart.registerDialogs()},registerCommands(){let a;try{a=JSON.parse(c.querySelector(".js-editorCustom").innerHTML)||{}}catch(b){console.error(b),a={}}"undefined"!==typeof a.charge&&FroalaEditor.RegisterCommand("xfCustom_charge",{title:a.charge.title,icon:"xfCustom_charge",undo:!0,focus:!0,callback:function(){XF.EditorHelpers.loadDialog(this,"dbtechCreditsCharge")}})},registerDialogs(){XF.EditorHelpers.dialogs.dbtechCreditsCharge=
new DBTech.Credits.EditorDialogCharge("dbtechCreditsCharge")}};DBTech.Credits.EditorHelpers={insertCharge:function(a,b){XF.EditorHelpers.wrapSelectionText(a,b?"[CHARGE="+b+"]":"[CHARGE]","[/CHARGE]",!0)}};XF.on(c,"editor:first-start",DBTech.Credits.editorStart.startAll,{once:!0})})(window,document);